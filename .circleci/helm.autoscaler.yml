version: 2.1


orbs:
  general: bjd2385/general@dev:b66c69da19f434072cd33c0394cad2270f8e2b3f


workflows:
  helm-autoscaler:
    jobs:
      - general/helm-lint:
          name: helm lint [helm/autoscaler]
          chart-path: helm/autoscaler

      - general/helm-release-nexus:
          name: helm build and push [helm/autoscaler]
          context: nexus
          path: helm/autoscaler
          repo-name: premiscale
          version: 0.0.<< pipeline.number >>
          requires:
            - helm lint [helm/autoscaler]
