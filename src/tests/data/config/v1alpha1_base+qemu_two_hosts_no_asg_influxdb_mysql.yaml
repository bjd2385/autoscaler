version: v1alpha1

controller:
  mode: standalone

  kubernetes:
    autoscalerPort: 8085
    autoscalerHost: cluster-autoscaler

  healthcheck:
    host: 127.0.0.1
    port: 8085

  databases:
    maxHostConnectionThreads: 10
    collectionInterval: 60
    hostConnectionTimeout: 60

    state:
      type: mysql

      connection:
        url: mysql:3306
        database: premiscale
        organization: premiscale

        credentials:
          username: premiscale
          password: premiscale

    timeseries:
      type: influxdb
      retention: 300

      connection:
        url: http://influxdb:8086
        database: premiscale
        organization: premiscale

        credentials:
          username: na
          password: premiscale

  platform:
    actionsQueueMaxSize: 0
    domain: $PREMISCALE_PLATFORM
    token: $PREMISCALE_TOKEN

    certificates:
      path: $PREMISCALE_CACERT

  reconciliation:
    interval: 60

  autoscale:
    hosts:
      - name: tynan-local
        address: 10.0.0.100
        port: 22
        sshKey: $PREMISCALE_TEST_SSH_KEY
        user: emma
        protocol: SSH
        hypervisor: qemu
      - name: rocinante-local
        address: 10.0.0.102
        port: 22
        sshKey: $PREMISCALE_TEST_SSH_KEY
        user: emma
        protocol: SSH
        hypervisor: qemu
    groups: {}